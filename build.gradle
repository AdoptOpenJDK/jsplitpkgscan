apply plugin: 'application'
apply plugin: 'java'

mainClassName = 'jdk.Main'
sourceCompatibility = 9
targetCompatibility = 9

jar.manifest {
    attributes 'Main-Class' : mainClassName
}

jar.doLast {
	// temporary work around to enable main class
	// using the jar executable
    Exec jarTask = task(jarTask, type: Exec)
    jarTask.commandLine  System.env.JAVA_HOME + '/bin/jar',
                         '--update',
                         '--main-class',
                         mainClassName,
                         '--file',
                         jar.archivePath
    jarTask.execute()
}